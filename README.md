# Teplocom Cloud
Teplocom Cloud - это система дистанционного управления котельной через смартфон. Предназначена для информирования пользователя о состоянии системы отопления и предупреждения об аварийных ситуациях, приводящих к остановке теплоснабжения, а также для удаленного управления системной отопления. Может быть использована для управления котельной вашего дома, дачи, офиса. Поддерживается работа через интернет и напрямую с устройством.

В приложении реализовано:
- авторизация пользователя в системе ЕСИА Бастион;
- получение оперативных данных о состоянии системы отопления;
- привязка температурных датчиков к устройству;
- настройка алгоритма работы котла;
- личный кабинет пользователя;

## Тестовые credentials:
- Номер телефона: любой, можно 9885453919
- СМС-код: wow101


# Стек
- Сетвая логика: **URLSession**
- Архитектура: **Clean Swift**
- Хранение данных: **Keychain, UserDefaults**
- Интерфейс: **Верстка кодом**
- **Unit тесты**

# Скриншоты
1. [Авторизация](#Авторизация)
   1. [Ввод номера телефона](#Ввод-номера-телефона)
   2. [Ввод СМС кода](#Ввод-СМС-кода)
2. [Выбор подключенного устройства](#Выбор-подключенного-устройства)
3. [Главный экран](#Главный-экран)
4. [Меню](#Меню)
5. [Личный кабинет](#Личный-кабинет)
   1. [Профиль](#Профиль)
   2. [Редактирование профиля](#Редактирование-профиля)
   3. [Смена email и номера телефона](#Смена-email-и-номера-телефона)
6. [Управление котлом](#Управление-котлом)
   1. [Термостат](#Термостат)
   2. [Экспертные режимы](#Экспертные-режимы)
   3. [Ручное](#Ручное)
   4. [Выкл](#Выкл)
7. [Об устройстве](#Об-устройстве)
8. [Список датчиков](#Список-датчиков)
    1. [Подключение нового датчика](#Подключение-нового-датчика)
    2. [Настройки датчика](#Настройки-датчика)
    3. [Экспертные настройки](#Экспертные-настройки)


# Авторизация
Для авторизации в системе необходимо указать номер телефона, на который придет СМС код подтверждения.  Если ранее у пользователя не было аккаунта в облачном сервисе, он будет зарегистрирован и сможет управлять персональными данными с помощью личного кабинета. Если пользователь уже имеет аккаунт, система авторизует его, и он сможет использовать приложение.

## Ввод номера телефона

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/1.1.svg" height="790">
</div>

## Ввод СМС кода
<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/1.2.svg" height="790">
</div>

# Выбор подключенного устройства 
Если СМС код введен верно, открывается экран выбора подключенного устройства. 

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/2.svg" height="790">
</div>

# Главный экран
После выбора устройства пользователь попадает на главный экран, на котором представлена оперативная информация с устройства: уровень GSM сигнала, баланс SIM-карты, установленной на устройстве, уровень заряда АКБ, информацию о выходах реле 1, реле 2, OpenTherm, уставка температуры, показания подключенных температурных датчиков.
<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/3.svg" height="790">
</div>

# Меню
<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/4.svg" height="790">
</div>

# Личный кабинет
В личном кабинете пользователь может получить информацию о своем аккаунте в системе: имя, фамилия, email, номер телефона, город, страна проживания.
Также доступна возможность изменения личных данных, смена номера телефона, подтверждение email.

## Профиль
<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/5.1.svg" height="790">
</div>

## Редактирование профиля
<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/5.2.svg" height="790">
</div>

## Смена email и номера телефона
<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/5.3.svg" height="790">
</div>

# Управление котлом
В разделе «Управление котлом» пользователь может выбрать подходящий алгоритм управления подключенным устройством. Доступны алгоритмы «Термостат», «Ручное», «Выключение системы».

## Термостат
В режиме термостата пользователь может установить необходимую уставку – температуру в комнате или температуру теплоносителя, которую будет поддерживать котел. Можно воспользоваться готовыми шаблонами «Эко», «Комфорт», или указать уставку самостоятельно.
<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/6.1.svg" height="790">
</div>

## Экспертные режимы
Кроме того, доступны экспертные настройки, где пользователь может указать, например, необходимый гистерезис, или включить возможность отключения котла по командам контактного датчика при аварии.

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/6.2.svg" height="600">
</div>

## Ручное
В ручном режиме пользователь сможет самостоятельно включать и выключать котел с главного экрана приложения.

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/6.3.svg" height="790">
</div>

## Выкл
Опция выключения системы позволяет полностью отключить котел, когда его работа не требуется, например, в летний период.

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/6.4.svg" height="790">
</div>

# Об устройстве
В данном разделе пользователю доступна информация о наименовании устройства, версия прошивки. Также имеется возможность обновления прошивки на устройстве, изменения клиентского наименования.

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/7.svg" height="790">
</div>

# Список датчиков
В данном разделе приложения пользователь может управлять уже подключенными к устройству датчиками, а также добавлять новые.

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/8.1.svg" height="790">
</div>
   
## Подключение нового датчика
При добавлении датчика пользователю необходимо подключить датчик к устройству. Сервер оповестит мобильное приложение о подключении нового датчика, и далее пользователь сможет выбрать тип датчика и задать ему необходимые настройки.

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/8.2.svg" height="790">
</div>

## Настройки датчика
Пользователь может изменять стандартные настройки датчика: наименование, роль, установить минимальное и максимальное значение температуры для датчика и включить оповещение с помощью SMS, если показания выйдут за установленные пределы.

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/8.3.svg" height="450">
</div>

## Экспертные настройки
Так же пользователю доступны экспертные настройки, с помощью которых устанавливаются интервал оповещений, количество повторных оповещений и прочее.

<div>
    <img src="https://github.com/RomanElfimov/TeplocomCloud/blob/main/Screenshots/8.4.svg" height="600">
</div>





